(this["webpackJsonplearning-english"]=this["webpackJsonplearning-english"]||[]).push([[0],{19:function(e,t,a){},28:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(24),l=a.n(s),o=a(9);a(33),a(34),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(14),i=a(3),u=a(4),d=a(6),m=a(5),h=a(7),v=a(11),p=(a(35),a(16)),b=(a(36),function(e){return r.a.createElement("div",{className:"navigation"},r.a.createElement("button",{onClick:e.openSidebar,className:"btnMenu"},r.a.createElement(p.c,null)))}),f="https://summertime-sadness.herokuapp.com/api/",E=["A1","A2","B1","B2","B2.2","C1"],w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then((function(e){return e.json()}))},g={wordsSearch:f+"words/search",wordsRead:f+"words/read",wordsGet:f+"words/get",phrasesRead:f+"phrases/read",exrcisesSearch:f+"exercises/search",exrcisesRead:f+"exercises/read",lessons:f+"lessons"},y={defaultData:{sound:!0,exercises:{},words:{levels:function(){var e={};return E.forEach((function(t){e[t]={dontKnow:[],offset:0,limit:0,know:0,wrong:0,count:895}})),e}(),currentLevel:"A1"}},setItem:function(e,t){localStorage.setItem(e,t)},getItem:function(e){return localStorage.getItem(e)},setData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y.defaultData,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"learningEnglish";localStorage.setItem(t,JSON.stringify(e))},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"learningEnglish",a=JSON.parse(localStorage.getItem(t));return e?e.split("/").reduce((function(e,t){return e[t]}),a):a}},N=function(e){return"https://b0r1slav.github.io/pronunciation/mp3/".concat(e,".mp3")},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=y.getData("sound");if(t){var a=e.trim().toLowerCase().replace(/[^a-zA-Z]+/,"_"),n=new Audio(N(a));n.play()}},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(e);return a.search=new URLSearchParams(t),a},O=a(13),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.currentTarget.value})},a.handlePlay=function(e){x(e.currentTarget.dataset.word)},a.state={value:"",words:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state.words.map((function(e,t){return r.a.createElement("p",{key:t},r.a.createElement("button",{type:"button",className:"text-primary pronons","data-word":e.en,onClick:this.handlePlay},r.a.createElement(O.c,null)),e.en," - ",e.bg)}),this);return r.a.createElement("div",{style:this.props.styles,className:"modal bootstrap-modal",tabIndex:"-1",role:"dialog","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog modal-lg"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h6",{className:"modal-title"},"Dictionary A1 - C1"),r.a.createElement("button",{type:"button",className:"close",onClick:this.props.handleDictionary},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body P-5"},r.a.createElement("div",{className:"input-group M-B10"},r.a.createElement("input",{type:"search",className:"form-control rounded-0",value:this.state.value,onChange:this.handleChange,placeholder:"Enter word ..."})),r.a.createElement("div",{className:"search-response"},e)),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:this.props.handleDictionary},"Close")))))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state.value.trim();n!==t.value.trim()&&w("".concat(g.wordsSearch,"?value=").concat(n)).then((function(e){a.setState({words:e.data})}))}}]),t}(r.a.Component),S=(a(37),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleDictionary=function(){var e="none"===a.state.styles.display?"block":"none";a.setState({styles:{display:e}})},a.state={styles:{display:"none"}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:this.props.styles.sidebar,onClick:this.props.closeSidebar,className:"sidebar"},r.a.createElement("button",{className:"btnClose"},r.a.createElement(p.a,null)),r.a.createElement("div",{className:"sidebarContainer"},r.a.createElement(o.b,{to:"/learn-words"},"Learn Words"),r.a.createElement(o.b,{to:"/exercises"},"Exercises"),r.a.createElement(o.b,{to:"/expressions"},"Expressions"),r.a.createElement("button",{type:"button",className:"link",onClick:this.handleDictionary},"Dictionary"),r.a.createElement(o.b,{to:"/settings"},"Settings")),r.a.createElement(j,{styles:this.state.styles,handleDictionary:this.handleDictionary}))}}]),t}(r.a.Component)),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={styles:{sidebar:{width:0}}},a.openSidebar=a.openSidebar.bind(Object(v.a)(a)),a.closeSidebar=a.closeSidebar.bind(Object(v.a)(a)),a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"openSidebar",value:function(){this.setState({styles:{sidebar:{width:"250px"}}})}},{key:"closeSidebar",value:function(){this.setState({styles:{sidebar:{width:0}}})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(S,{styles:this.state.styles,closeSidebar:this.closeSidebar}),r.a.createElement(b,{openSidebar:this.openSidebar}))}},{key:"componentDidMount",value:function(){y.getData()||y.setData()}}]),t}(r.a.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleLocal=function(e){var t=y.getData(),a=Object.keys(t.exercises).length;a&&a===e.length||(e.forEach((function(e){t.exercises["lesson"+e.id]||(t.exercises["lesson"+e.id]=[])})),y.setData(t))},a.state={lessons:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=y.getData().exercises;this.state.lessons.sort((function(e,t){return 18===e.id?1:18===t.id?-1:e.id-t.id}));var t=this.state.lessons.map((function(t,a){return r.a.createElement("li",{key:a,className:"list-group-item li-nav"},r.a.createElement(o.b,{to:"/exercises/".concat(t.id),className:"nav-item"},t.title,r.a.createElement("span",{className:"itemRight"},r.a.createElement("span",{className:"text-success"},e["lesson".concat(t.id)].length),"/",t.exercises_count," \xa0",r.a.createElement(p.b,null))))}));return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"card"},r.a.createElement("ul",{className:"list-group list-group-flush"},t))))}},{key:"componentDidMount",value:function(){var e=this;w(g.lessons).then((function(t){return e.handleLocal(t),t})).then((function(t){e.setState({lessons:t})}))}}]),t}(r.a.Component),L=(a(19),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleAnswer=function(e){var t=a.props.match.params.lesson,n=e.currentTarget.dataset.id,r=y.getData(),s=r.exercises["lesson".concat(t)];s.indexOf(n)<0&&s.push(n),y.setData(r)},a.handleBlur=function(e){var t=e.currentTarget.dataset.id,n=a.state.answered;n.indexOf(t)<0&&(n.push(+t),a.setState({answered:n}))},a.state={data:{},exercises:[],answered:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.exercises,a=e.answered,n=t.map((function(e,t){var n=a.indexOf(e.id)>-1?"text-secondary":"";return r.a.createElement("div",{key:t,className:"card item ".concat(n)},r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,t+1,". ",e.bg),r.a.createElement("textarea",{className:"form-control",rows:"2",placeholder:"Your answer"}),r.a.createElement("details",null,r.a.createElement("summary",{className:"answer","data-id":e.id,onClick:this.handleAnswer,onBlur:this.handleBlur},"Compare"),r.a.createElement("p",null,e.en))))}),this);return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"main"},n))}},{key:"componentDidMount",value:function(){var e=this;w("".concat(g.exrcisesRead,"/200/").concat(this.props.match.params.lesson)).then((function(t){var a=y.getData();e.setState({data:t,exercises:t.data,answered:a.exercises["lesson".concat(e.props.match.params.lesson)].map(Number)})}))}}]),t}(r.a.Component)),K=[{uri:"/learn-words",title:"Learn Words"},{uri:"/exercises",title:"Exercises"},{uri:"/expressions",title:"Expressions"},{uri:"/settings",title:"Settings"}],W=function(e){function t(){return Object(i.a)(this,t),Object(d.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=K.map((function(e,t){return r.a.createElement("div",{key:t,className:"col-sm-4 col-6 P-5"},r.a.createElement(o.b,{to:e.uri},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-body home-item"},e.title))))}));return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"row M-0"},e)))}}]),t}(r.a.Component),A=a(27),I=(a(43),function(e){var t=Object(n.useState)(0),a=Object(A.a)(t,2),s=a[0],l=a[1],o=r.a.createElement("span",null,r.a.createElement(O.a,{className:"i-spin loader"}),r.a.createElement("span",{className:"btn-text"},e.text)),c=s?o:e.text;return r.a.createElement("button",{onClick:function(t){t.currentTarget.blur(),e.func(),l(1),setInterval((function(){l()}),1e3)},type:"button",className:"button-loader btn btn-sm btn-outline-primary float-right position-relative"},c)}),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleResetExercises=function(){var e=y.getData();e.exercises=y.defaultData.exercises,y.setData(e)},a.handleResetLearnWords=function(){var e=y.getData();e.words=y.defaultData.words,y.setData(e)},a.handleSound=function(){var e=y.getData();e.sound=!e.sound,y.setData(e),a.setState({sound:e.sound})},a.handleResetAll=function(){y.setData()},a.state={reset:0,sound:!0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"card"},r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item li-nav"},"Sound",r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-primary rounded-circle float-right",onClick:this.handleSound},this.state.sound?r.a.createElement(O.c,null):r.a.createElement(O.b,null))),r.a.createElement("li",{className:"list-group-item li-nav"},"Exercises",r.a.createElement(I,{func:this.handleResetExercises,text:"reset progress"})),r.a.createElement("li",{className:"list-group-item li-nav"},"Learn Words",r.a.createElement(I,{func:this.handleResetLearnWords,text:"reset progress"})),r.a.createElement("li",{className:"list-group-item li-nav"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-6"},"Reset all progress and settings!"),r.a.createElement("div",{className:"col-sm-6"},r.a.createElement(I,{func:this.handleResetAll,text:"hard reset"}))))))))}},{key:"componentDidMount",value:function(){var e=y.getData();this.setState({sound:e.sound})}}]),t}(r.a.Component),R=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.currentTarget.value})},a.getExpressions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";w("".concat(g.exrcisesSearch,"?value=").concat(e.replace(/\s+/g,"+"))).then((function(e){a.setState({response:e})}))},a.state={response:{data:[]},value:""},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=/^[a-zA-Z]+/.test(this.state.value.trim())?["en","bg"]:["bg","en"],t=this.state.response.data.map((function(t,a){return r.a.createElement("div",{key:a,className:"card item P-10"},r.a.createElement("p",null,t[e[0]]),r.a.createElement("p",null,t[e[1]]))}));return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"card item P-10"},r.a.createElement("div",{className:"input-group"},r.a.createElement("input",{type:"search",className:"form-control rounded-0",value:this.state.value,onChange:this.handleChange,"aria-describedby":"expressionHelp",placeholder:"Search..."})),r.a.createElement("small",{id:"expressionHelp",className:"form-text text-muted"},"Please enter at least 3 characters to search")),t))}},{key:"componentDidMount",value:function(){this.getExpressions()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.value.trim();a!==t.value.trim()&&(a.length>2||a.length<1)&&this.getExpressions(a)}}]),t}(r.a.Component),B=(a(44),function(e){x(e.currentTarget.dataset.word)}),T=function(e){return Object(n.useEffect)((function(){x(e.word.en)})),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,e.word.en),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"text-primary pronons M-T10 M-B15","data-word":e.word.en,onClick:B},r.a.createElement(O.c,null))),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm float-right",onClick:e.handleNext},"Next"))},P=function(e){return r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,e.word.bg),r.a.createElement("div",{className:"M-B15"},r.a.createElement("input",{type:"text",className:"form-control rounded-0",placeholder:"Your answer...",value:e.value,onChange:function(t){return e.handleChange(t,e.word)}})),r.a.createElement("div",null,r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.handleIKnow(e.word)}},"I know"),r.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm float-right",onClick:e.handleAnswer},"Answer")))},J=function(){return r.a.createElement("div",{className:"card card-body h-100 justify-content-center text-center"},"Level completed!")},U={id:0,bg:"----",en:"----",level:"--"},H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e,t){var n=e.currentTarget.value.trim().toLowerCase();a.setState({value:e.currentTarget.value}),n===t.en.trim().toLowerCase()&&a.handleIKnow(t)},a.handleIKnow=function(e){var t=a.state,n=t.currentWord,r=t.know,s=t.dontKnow,l=t.lastLimit,o=t.level,c=t.wrong,i=y.getData(),u=i.words.levels[o];x(e.en);var d=s.filter((function(t){return t.id!==e.id}));n++,r++,9===n?(u.dontKnow=d,u.offset+=l,a.getWords(u,o).then(function(e){var t=e.data.data.concat(e.local.dontKnow);this.setState({words:t,currentWord:0,value:"",dontKnow:t,know:r,lastLimit:e.local.limit,wrong:c}),(u=e.local).dontKnow=t,u.know=r,u.wrong=c,y.setData(i)}.bind(Object(v.a)(a)))):a.setState({currentWord:n,value:"",know:r,dontKnow:d})},a.handleNext=function(){var e=a.state,t=e.currentWord,n=e.know,r=e.dontKnow,s=e.lastLimit,l=e.level,o=e.wrong,c=y.getData(),i=c.words.levels[l];t++,o++,9===t?(i.dontKnow=r,i.offset+=s,a.getWords(i,l).then(function(e){var t=e.data.data.concat(e.local.dontKnow);e.local.dontKnow=t,e.local.know=n,e.local.wrong=o,this.setState({words:t,currentWord:0,currentComponent:0,value:"",know:e.local.know,dontKnow:t,lastLimit:e.local.limit,wrong:o}),i=e.local,y.setData(c)}.bind(Object(v.a)(a))).catch(function(e){this.setState({words:e,value:"",know:n,wrong:o,currentWord:0,currentComponent:0})}.bind(Object(v.a)(a)))):a.setState({currentWord:t,value:"",currentComponent:0,wrong:o})},a.handleAnswer=function(){a.setState({currentComponent:1})},a.getWords=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Promise((function(a,n){var r=9-e.dontKnow.length;if(r){var s=k(g.wordsGet,{limit:r,offset:e.offset,level:t});w(s).then((function(t){e.limit=r,a({data:t,local:e})}))}else n(e.dontKnow)}))},a.handleLevel=function(e){var t=y.getData();e=e||t.words.currentLevel,a.getWords(t.words.levels[e],e).then(function(a){var n=a.data.data.concat(a.local.dontKnow);a.local.dontKnow=n,this.setState({words:n,know:a.local.know,lastLimit:a.local.limit,dontKnow:n,level:e,wrong:a.local.wrong,count:a.data.count}),a.local.count=a.data.count,t.words.levels[e]=a.local,t.words.currentLevel=e,y.setData(t)}.bind(Object(v.a)(a))).catch(function(a){this.setState({words:a,know:t.words.levels[e].know,dontKnow:a,lastLimit:t.words.levels[e].limit,level:e,wrong:t.words.levels[e].wrong,count:t.words.levels[e].count})}.bind(Object(v.a)(a)))},a.handleChangeLevel=function(e){a.handleLevel(e.currentTarget.value.trim())},a.state={words:[],currentWord:0,value:"",currentComponent:0,know:0,lastLimit:0,dontKnow:[],level:"A1",wrong:0,count:895},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.state,t=e.level,a=e.currentComponent,n=e.count,s=e.know,l=e.currentWord,o=this.state.words[l]||U,c=n===s?2:a,i=E.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)})),u=[r.a.createElement(P,{handleChange:this.handleChange,handleIKnow:this.handleIKnow,handleAnswer:this.handleAnswer,value:this.state.value,word:o}),r.a.createElement(T,{handleNext:this.handleNext,word:o}),r.a.createElement(J,null)];return r.a.createElement("div",null,r.a.createElement(C,null),r.a.createElement("div",{className:"main"},r.a.createElement("div",{className:"card item MH-180"},r.a.createElement("span",{className:"word-id"},o.id),r.a.createElement("span",{className:"index"},this.state.currentWord+1),u[c]),r.a.createElement("div",{className:"M-10"},r.a.createElement("p",null,"Know: ",this.state.know),r.a.createElement("p",null,"Wrong: ",this.state.wrong),r.a.createElement("p",null,"Set's count: ",9),r.a.createElement("p",null,"Level count: ",n)),r.a.createElement("div",{className:"P-10"},r.a.createElement("span",null,"Level: "),r.a.createElement("select",{className:"select-level",value:t,onChange:this.handleChangeLevel},i))))}},{key:"componentDidMount",value:function(){this.handleLevel()}}]),t}(r.a.Component),z=function(){return r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:W}),r.a.createElement(c.a,{exact:!0,path:"/exercises",component:D}),r.a.createElement(c.a,{path:"/exercises/:lesson",component:L}),r.a.createElement(c.a,{path:"/settings",component:M}),r.a.createElement(c.a,{path:"/expressions",component:R}),r.a.createElement(c.a,{path:"/learn-words",component:H}))};l.a.render(r.a.createElement(o.a,{basename:"/learning-english"},r.a.createElement(z,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.910beff5.chunk.js.map