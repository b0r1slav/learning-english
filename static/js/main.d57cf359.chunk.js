(this["webpackJsonplearning-english"]=this["webpackJsonplearning-english"]||[]).push([[0],{19:function(e,t,a){},28:function(e,t,a){e.exports=a(45)},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(24),o=a.n(r),c=a(9);a(33),a(34),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=a(14),i=a(3),d=a(4),u=a(6),m=a(5),h=a(7),f=a(13),p=(a(35),a(16)),v=(a(36),function(e){return s.a.createElement("div",{className:"navigation"},s.a.createElement("button",{onClick:e.openSidebar,className:"btnMenu"},s.a.createElement(p.c,null)))}),b="https://summertime-sadness.herokuapp.com/api/",E=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,t).then((function(e){return e.json()}))},w={wordsSearch:b+"words/search",wordsRead:b+"words/read",wordsGet:b+"words/get",phrasesRead:b+"phrases/read",exrcisesSearch:b+"exercises/search",exrcisesRead:b+"exercises/read",lessons:b+"lessons"},g={defaultData:{sound:!0,exercises:{},words:{dontKnow:[],offset:0}},setItem:function(e,t){localStorage.setItem(e,t)},getItem:function(e){return localStorage.getItem(e)},setData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.defaultData,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"learningEnglish";localStorage.setItem(t,JSON.stringify(e))},getData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"learningEnglish";return JSON.parse(localStorage.getItem(e))}},y=function(e){return"https://b0r1slav.github.io/pronunciation/mp3/".concat(e,".mp3")},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.trim().toLowerCase().replace(/[^a-zA-Z]+/,"_"),a=new Audio(y(t));a.play()},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=new URL(e);return a.search=new URLSearchParams(t),a},O=a(12),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.currentTarget.value})},a.handlePlay=function(e){N(e.currentTarget.dataset.word)},a.state={value:"",words:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.words.map((function(e,t){return s.a.createElement("p",{key:t},s.a.createElement("button",{type:"button",className:"text-primary pronons","data-word":e.en,onClick:this.handlePlay},s.a.createElement(O.c,null)),e.en," - ",e.bg)}),this);return s.a.createElement("div",{style:this.props.styles,className:"modal bootstrap-modal",tabIndex:"-1",role:"dialog","aria-hidden":"true"},s.a.createElement("div",{className:"modal-dialog modal-lg"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("h6",{className:"modal-title"},"Dictionary A1 - C1"),s.a.createElement("button",{type:"button",className:"close",onClick:this.props.handleDictionary},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement("div",{className:"modal-body P-5"},s.a.createElement("div",{className:"input-group M-B10"},s.a.createElement("input",{type:"search",className:"form-control rounded-0",value:this.state.value,onChange:this.handleChange,placeholder:"Enter word ..."})),s.a.createElement("div",{className:"search-response"},e)),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-sm btn-secondary",onClick:this.props.handleDictionary},"Close")))))}},{key:"componentDidUpdate",value:function(e,t){var a=this,n=this.state.value.trim();n!==t.value.trim()&&E("".concat(w.wordsSearch,"?value=").concat(n)).then((function(e){a.setState({words:e.data})}))}}]),t}(s.a.Component),S=(a(37),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleDictionary=function(){var e="none"===a.state.styles.display?"block":"none";a.setState({styles:{display:e}})},a.state={styles:{display:"none"}},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{style:this.props.styles.sidebar,onClick:this.props.closeSidebar,className:"sidebar"},s.a.createElement("button",{className:"btnClose"},s.a.createElement(p.a,null)),s.a.createElement("div",{className:"sidebarContainer"},s.a.createElement(c.b,{to:"/learn-words"},"Learn Words"),s.a.createElement(c.b,{to:"/exercises"},"Exercises"),s.a.createElement(c.b,{to:"/expressions"},"Expressions"),s.a.createElement("button",{type:"button",className:"link",onClick:this.handleDictionary},"Dictionary"),s.a.createElement(c.b,{to:"/settings"},"Settings")),s.a.createElement(j,{styles:this.state.styles,handleDictionary:this.handleDictionary}))}}]),t}(s.a.Component)),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={styles:{sidebar:{width:0}}},a.openSidebar=a.openSidebar.bind(Object(f.a)(a)),a.closeSidebar=a.closeSidebar.bind(Object(f.a)(a)),a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"openSidebar",value:function(){this.setState({styles:{sidebar:{width:"250px"}}})}},{key:"closeSidebar",value:function(){this.setState({styles:{sidebar:{width:0}}})}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(S,{styles:this.state.styles,closeSidebar:this.closeSidebar}),s.a.createElement(v,{openSidebar:this.openSidebar}))}},{key:"componentDidMount",value:function(){g.getData()||g.setData()}}]),t}(s.a.Component),D=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleLocal=function(e){var t=g.getData(),a=Object.keys(t.exercises).length;a&&a===e.length||(e.forEach((function(e){t.exercises["lesson"+e.id]||(t.exercises["lesson"+e.id]=[])})),g.setData(t))},a.state={lessons:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=g.getData().exercises;this.state.lessons.sort((function(e,t){return 18===e.id?1:18===t.id?-1:e.id-t.id}));var t=this.state.lessons.map((function(t,a){return s.a.createElement("li",{key:a,className:"list-group-item li-nav"},s.a.createElement(c.b,{to:"/exercises/".concat(t.id),className:"nav-item"},t.title,s.a.createElement("span",{className:"itemRight"},s.a.createElement("span",{className:"text-success"},e["lesson".concat(t.id)].length),"/",t.exercises_count," \xa0",s.a.createElement(p.b,null))))}));return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"card"},s.a.createElement("ul",{className:"list-group list-group-flush"},t))))}},{key:"componentDidMount",value:function(){var e=this;E(w.lessons).then((function(t){return e.handleLocal(t),t})).then((function(t){e.setState({lessons:t})}))}}]),t}(s.a.Component),C=(a(19),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleAnswer=function(e){var t=a.props.match.params.lesson,n=e.currentTarget.dataset.id,s=g.getData(),r=s.exercises["lesson".concat(t)];r.indexOf(n)<0&&r.push(n),g.setData(s)},a.handleBlur=function(e){var t=e.currentTarget.dataset.id,n=a.state.answered;n.indexOf(t)<0&&(n.push(+t),a.setState({answered:n}))},a.state={data:{},exercises:[],answered:[]},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state,t=e.exercises,a=e.answered,n=t.map((function(e,t){var n=a.indexOf(e.id)>-1?"text-secondary":"";return s.a.createElement("div",{key:t,className:"card item ".concat(n)},s.a.createElement("div",{className:"card-body"},s.a.createElement("p",null,t+1,". ",e.bg),s.a.createElement("textarea",{className:"form-control",rows:"2",placeholder:"Your answer"}),s.a.createElement("details",null,s.a.createElement("summary",{className:"answer","data-id":e.id,onClick:this.handleAnswer,onBlur:this.handleBlur},"Compare"),s.a.createElement("p",null,e.en))))}),this);return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"main"},n))}},{key:"componentDidMount",value:function(){var e=this;E("".concat(w.exrcisesRead,"/200/").concat(this.props.match.params.lesson)).then((function(t){var a=g.getData();e.setState({data:t,exercises:t.data,answered:a.exercises["lesson".concat(e.props.match.params.lesson)].map(Number)})}))}}]),t}(s.a.Component)),W=[{uri:"/learn-words",title:"Learn Words"},{uri:"/exercises",title:"Exercises"},{uri:"/expressions",title:"Expressions"},{uri:"/settings",title:"Settings"}],K=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=W.map((function(e,t){return s.a.createElement("div",{key:t,className:"col-sm-4 col-6 P-5"},s.a.createElement(c.b,{to:e.uri},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-body home-item"},e.title))))}));return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"row M-0"},e)))}}]),t}(s.a.Component),I=a(27),M=(a(43),function(e){var t=Object(n.useState)(0),a=Object(I.a)(t,2),r=a[0],o=a[1],c=s.a.createElement("span",null,s.a.createElement(O.a,{className:"i-spin loader"}),s.a.createElement("span",{className:"btn-text"},e.text)),l=r?c:e.text;return s.a.createElement("button",{onClick:function(t){t.currentTarget.blur(),e.func(),o(1),setInterval((function(){o()}),1e3)},type:"button",className:"button-loader btn btn-sm btn-outline-primary float-right position-relative"},l)}),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleResetExercises=function(){var e=g.getData();e.exercises={},g.setData(e)},a.handleResetLearnWords=function(){var e=g.getData();e.words={dontKnow:[],offset:0},g.setData(e)},a.handleSound=function(){var e=g.getData();e.sound=!e.sound,g.setData(e),a.setState({sound:e.sound})},a.state={reset:0,sound:!0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"card"},s.a.createElement("ul",{className:"list-group list-group-flush"},s.a.createElement("li",{className:"list-group-item li-nav"},"Sound",s.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-primary rounded-circle float-right",onClick:this.handleSound},this.state.sound?s.a.createElement(O.c,null):s.a.createElement(O.b,null))),s.a.createElement("li",{className:"list-group-item li-nav"},"Exercises",s.a.createElement(M,{func:this.handleResetExercises,text:"reset progress"})),s.a.createElement("li",{className:"list-group-item li-nav"},"Learn Words",s.a.createElement(M,{func:this.handleResetLearnWords,text:"reset progress"}))))))}},{key:"componentDidMount",value:function(){var e=g.getData();this.setState({sound:e.sound})}}]),t}(s.a.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e){a.setState({value:e.currentTarget.value})},a.getExpressions=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";E("".concat(w.exrcisesSearch,"?value=").concat(e.replace(/\s+/g,"+"))).then((function(e){a.setState({response:e})}))},a.state={response:{data:[]},value:""},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=/^[a-zA-Z]+/.test(this.state.value.trim())?["en","bg"]:["bg","en"],t=this.state.response.data.map((function(t,a){return s.a.createElement("div",{key:a,className:"card item P-10"},s.a.createElement("p",null,t[e[0]]),s.a.createElement("p",null,t[e[1]]))}));return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"card item P-10"},s.a.createElement("div",{className:"input-group"},s.a.createElement("input",{type:"search",className:"form-control rounded-0",value:this.state.value,onChange:this.handleChange,"aria-describedby":"expressionHelp",placeholder:"Search..."})),s.a.createElement("small",{id:"expressionHelp",className:"form-text text-muted"},"Please enter at least 3 characters to search")),t))}},{key:"componentDidMount",value:function(){this.getExpressions()}},{key:"componentDidUpdate",value:function(e,t){var a=this.state.value.trim();a!==t.value.trim()&&(a.length>2||a.length<1)&&this.getExpressions(a)}}]),t}(s.a.Component),R=(a(44),function(e){N(e.currentTarget.dataset.word)}),T=function(e){return Object(n.useEffect)((function(){N(e.word.en)})),s.a.createElement("div",{className:"card-body"},s.a.createElement("p",null,e.word.en),s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"text-primary pronons M-T10 M-B15","data-word":e.word.en,onClick:R},s.a.createElement(O.c,null))),s.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm float-right",onClick:e.handleNext},"Next"))},P=function(e){return s.a.createElement("div",{className:"card-body"},s.a.createElement("p",null,e.word.bg),s.a.createElement("div",{className:"M-B15"},s.a.createElement("input",{type:"text",className:"form-control rounded-0",placeholder:"Your answer...",value:e.value,onChange:function(t){return e.handleChange(t,e.word)}})),s.a.createElement("div",null,s.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm",onClick:function(){return e.handleIKnow(e.word)}},"I know"),s.a.createElement("button",{type:"button",className:"btn btn-primary btn-sm float-right",onClick:e.handleAnswer},"Answer")))},B=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).handleChange=function(e,t){e.currentTarget.value.trim()===t.en?a.handleIKnow(t):a.setState({value:e.currentTarget.value})},a.handleIKnow=function(e){var t=a.state.currentWord,n=g.getData();N(e.en),n.words.dontKnow=n.words.dontKnow.filter((function(t){return t.id!==e.id})),9===++t?(n.words.offset?n.words.offset=n.words.offset+9-n.words.dontKnow.length:n.words.offset=9,a.getWords(n).then(function(e){var t=e.concat(n.words.dontKnow);this.setState({words:t,currentWord:0,value:"",offset:n.words.offset}),n.words.dontKnow=t,g.setData(n)}.bind(Object(f.a)(a)))):(a.setState({currentWord:t,value:""}),g.setData(n))},a.handleNext=function(){var e=a.state.currentWord,t=g.getData();9===++e?(t.words.offset?t.words.offset=t.words.offset+9-t.words.dontKnow.length:t.words.offset=9,a.getWords(t).then(function(e){var a=e.concat(t.words.dontKnow);this.setState({words:a,currentWord:0,answer:0,offset:t.words.offset}),t.words.dontKnow=a,g.setData(t)}.bind(Object(f.a)(a))).catch(function(e){this.setState({words:e,offset:t.words.offset})}.bind(Object(f.a)(a)))):a.setState({currentWord:e,answer:0})},a.handleAnswer=function(){a.setState({answer:1})},a.getWords=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise((function(t,a){var n=9-e.words.dontKnow.length;if(n){var s=x(w.wordsGet,{limit:n,offset:e.words.offset});E(s).then((function(e){t(e)}))}else a(e.words.dontKnow)}))},a.state={words:[{id:0,en:"-----",bg:"-----",level:"--"}],currentWord:0,value:"",answer:0,offset:0},a}return Object(h.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.words[this.state.currentWord],t=s.a.createElement(P,{handleChange:this.handleChange,handleIKnow:this.handleIKnow,handleAnswer:this.handleAnswer,value:this.state.value,word:e}),a=s.a.createElement(T,{handleNext:this.handleNext,word:e});return s.a.createElement("div",null,s.a.createElement(k,null),s.a.createElement("div",{className:"main"},s.a.createElement("div",{className:"card item MH-180"},s.a.createElement("span",{className:"word-id"},e.id),s.a.createElement("span",{className:"index"},this.state.currentWord+1),this.state.answer?a:t),s.a.createElement("div",{className:"M-10"},s.a.createElement("p",null,"Level: ",e.level),s.a.createElement("p",null,"Set's count: ",9))))}},{key:"componentDidMount",value:function(){var e=g.getData();this.getWords(e).then(function(t){var a=t.concat(e.words.dontKnow);e.words.dontKnow=a,this.setState({words:a,offset:e.words.offset}),g.setData(e)}.bind(this)).catch(function(t){this.setState({words:t,offset:e.words.offset})}.bind(this))}}]),t}(s.a.Component),J=function(){return s.a.createElement(l.c,null,s.a.createElement(l.a,{exact:!0,path:"/",component:K}),s.a.createElement(l.a,{exact:!0,path:"/exercises",component:D}),s.a.createElement(l.a,{path:"/exercises/:lesson",component:C}),s.a.createElement(l.a,{path:"/settings",component:A}),s.a.createElement(l.a,{path:"/expressions",component:L}),s.a.createElement(l.a,{path:"/learn-words",component:B}))};o.a.render(s.a.createElement(c.a,{basename:"/learning-english"},s.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.d57cf359.chunk.js.map